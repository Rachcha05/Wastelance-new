{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\User\\\\Desktop\\\\Final\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\Final\\\\frontend\\\\src\\\\containers\\\\Category\\\\index.js\";\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nimport React, { useState } from \"react\";\nimport { Container, Row, Col, Button, Table, ButtonGroup } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addCategory, updateCategory, deleteCategory } from \"../../actions\";\nimport Layout from \"../../components/Layouts\";\nimport Input from \"../../components/UI/Input\";\nimport NewModal from \"../../components/UI/Modal\";\nimport { generatePublicUrl } from \"../../urlConfig\";\nimport \"./style.css\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nfunction Category(props) {\n  var _this = this;\n  var category = useSelector(function (state) {\n    return state.category;\n  });\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    categoryName = _useState2[0],\n    setCategoryName = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    categoryImage = _useState4[0],\n    setCategoryImage = _useState4[1];\n  var _useState5 = useState(\"\"),\n    _useState6 = _slicedToArray(_useState5, 2),\n    categoryDescription = _useState6[0],\n    setCategoryDescription = _useState6[1];\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    updateCategoryModal = _useState8[0],\n    setUpdateCategoryModal = _useState8[1];\n  var _useState9 = useState(false),\n    _useState10 = _slicedToArray(_useState9, 2),\n    deleteCategoryModal = _useState10[0],\n    setDeleteCategoryModal = _useState10[1];\n  var _useState11 = useState({}),\n    _useState12 = _slicedToArray(_useState11, 2),\n    currentCategory = _useState12[0],\n    setCurrentCategory = _useState12[1];\n  var _useState13 = useState(\"\"),\n    _useState14 = _slicedToArray(_useState13, 2),\n    categoryIdUpdate = _useState14[0],\n    setCategoryIdUpdate = _useState14[1];\n  var _useState15 = useState(\"\"),\n    _useState16 = _slicedToArray(_useState15, 2),\n    categoryNameUpdate = _useState16[0],\n    setCategoryNameUpdate = _useState16[1];\n  var _useState17 = useState(\"\"),\n    _useState18 = _slicedToArray(_useState17, 2),\n    categoryImageUpdate = _useState18[0],\n    setCategoryImageUpdate = _useState18[1];\n  var _useState19 = useState(\"\"),\n    _useState20 = _slicedToArray(_useState19, 2),\n    categoryDescriptionUpdate = _useState20[0],\n    setCategoryDescriptionUpdate = _useState20[1];\n  var _useState21 = useState(false),\n    _useState22 = _slicedToArray(_useState21, 2),\n    categoryDetailsModal = _useState22[0],\n    setCategoryDetailsModal = _useState22[1];\n  var _useState23 = useState(null),\n    _useState24 = _slicedToArray(_useState23, 2),\n    categoryDetails = _useState24[0],\n    setCategoryDetails = _useState24[1];\n  var dispatch = useDispatch();\n  var _useState25 = useState(false),\n    _useState26 = _slicedToArray(_useState25, 2),\n    show = _useState26[0],\n    setShow = _useState26[1]; //adding a new category from user entered form data. Those formdata pass into the addCategory() function in actions\n  var addNewCategory = function addNewCategory() {\n    var form = new FormData();\n\n    //validations of data\n    if (categoryName === \"\") {\n      toast.error(\"Name can't be empty!\", {\n        position: \"top-right\",\n        autoClose: 5000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined\n      });\n      return;\n    }\n    if (categoryDescription === \"\") {\n      toast.error(\"Description can't be empty!\", {\n        position: \"top-right\",\n        autoClose: 5000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined\n      });\n      return;\n    }\n    if (!categoryImage) {\n      toast.error(\"Category image can't be empty!\", {\n        position: \"top-right\",\n        autoClose: 5000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined\n      });\n      return;\n    }\n    form.append(\"name\", categoryName);\n    form.append(\"description\", categoryDescription);\n    form.append(\"categoryImages\", categoryImage);\n    dispatch(addCategory(form));\n    setCategoryName(\"\");\n    setCategoryDescription(\"\");\n    setCategoryImage(\"\");\n  };\n  var handleClose = function handleClose() {\n    setShow(false);\n  };\n  var handleShow = function handleShow() {\n    return setShow(true);\n  };\n\n  //showing all the categories\n  var renderCategories = function renderCategories(categories) {\n    var myCategories = [];\n    var _iterator = _createForOfIteratorHelper(categories),\n      _step;\n    try {\n      var _loop = function _loop() {\n        var category = _step.value;\n        myCategories.push( /*#__PURE__*/React.createElement(\"tr\", {\n          key: category._id,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          style: {\n            maxWidth: \"100px\"\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }\n        }, category.categoryImages ? category.categoryImages.map(function (picture) {\n          return /*#__PURE__*/React.createElement(\"div\", {\n            className: \"categoryImageContainer\",\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 21\n            }\n          }, /*#__PURE__*/React.createElement(\"img\", {\n            src: generatePublicUrl(picture.img),\n            alt: \"\",\n            __self: _this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 23\n            }\n          }));\n        }) : window.location.reload())), /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 11\n          }\n        }, category.name), /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 11\n          }\n        }, category.description), /*#__PURE__*/React.createElement(\"td\", {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(ButtonGroup, {\n          style: {\n            width: \"100%\"\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(Button, {\n          onClick: function onClick() {\n            updateCategoryData(category);\n          },\n          variant: \"success\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 15\n          }\n        }, \"Edit\"), /*#__PURE__*/React.createElement(Button, {\n          onClick: function onClick() {\n            setDeleteCategoryModal(true);\n            setCurrentCategory(category);\n          },\n          variant: \"danger\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 15\n          }\n        }, \"Delete\")), /*#__PURE__*/React.createElement(Button, {\n          style: {\n            width: \"100%\"\n          },\n          size: \"sm\",\n          onClick: function onClick() {\n            showCategoryDetailsModal(category);\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }\n        }, \"Show Full Details\"))));\n      };\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        _loop();\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n    return myCategories;\n  };\n\n  //handling selected category image\n  var handleCategoryImage = function handleCategoryImage(e) {\n    setCategoryImage(e.target.files[0]);\n  };\n\n  //handling selected category image in category updating\n  var handleCategoryImageUpdate = function handleCategoryImageUpdate(e) {\n    setCategoryImageUpdate(e.target.files[0]);\n  };\n\n  //updating the state after selecting category data to update\n  var updateCategoryData = function updateCategoryData(cat) {\n    setUpdateCategoryModal(true);\n    console.log(cat._id);\n\n    //updating state value according to selected category\n    setCategoryIdUpdate(cat._id);\n    setCategoryNameUpdate(cat.name);\n    setCategoryDescriptionUpdate(cat.description);\n    cat.categoryImages.map(function (picture) {\n      return setCategoryImageUpdate(picture.img);\n    });\n  };\n\n  //fuction to delete category. dispatching the deleteCategory() from actions\n  var deleteCategoryData = function deleteCategoryData(cat) {\n    //dispatching the action to delete selected category\n    dispatch(deleteCategory(cat._id));\n  };\n\n  //popup modal to delete category\n  var renderDeleteCategoryModal = function renderDeleteCategoryModal() {\n    return /*#__PURE__*/React.createElement(NewModal, {\n      modalTitle: \"Please Confirm!\",\n      variant: \"danger\",\n      clsBtnName: \"No\",\n      saveBtnName: \"Yes\",\n      addNewItem: function addNewItem() {\n        return deleteCategoryData(currentCategory);\n      },\n      show: deleteCategoryModal,\n      handleClose: function handleClose() {\n        setDeleteCategoryModal(false);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 7\n      }\n    }, \"Do you want to delete \\\"\".concat(currentCategory.name, \"\\\" category?\"));\n  };\n\n  //show add category popup modal\n  var renderAddCategoriesModal = function renderAddCategoriesModal() {\n    return /*#__PURE__*/React.createElement(NewModal, {\n      show: show,\n      handleClose: handleClose,\n      addNewItem: addNewCategory,\n      modalTitle: \"Add New Category\",\n      cat: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      lable: \"Category Name\",\n      type: \"text\",\n      value: categoryName,\n      placeholder: \"Category Name\",\n      onChange: function onChange(e) {\n        setCategoryName(e.target.value);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Input, {\n      lable: \"Category Description\",\n      as: \"textarea\",\n      rows: 3,\n      value: categoryDescription,\n      placeholder: \"Category Description\",\n      onChange: function onChange(e) {\n        setCategoryDescription(e.target.value);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group mb-3\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"input-group-text\",\n      htmlFor: \"inputGroupFile01\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 11\n      }\n    }, \"Upload Category Image\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      name: \"categoryImage\",\n      className: \"form-control\",\n      id: \"inputGroupFile01\",\n      onChange: handleCategoryImage,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 11\n      }\n    })));\n  };\n\n  //handling the data added to form when updating the category and passing them to updateCategory() in actions\n  var updateCategoryForm = function updateCategoryForm() {\n    var form = new FormData();\n\n    //validations of data\n    if (categoryNameUpdate === \"\") {\n      toast.error(\"Name can't be empty!\", {\n        position: \"top-right\",\n        autoClose: 5000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined\n      });\n      return;\n    }\n    if (categoryDescriptionUpdate === \"\") {\n      toast.error(\"Description can't be empty!\", {\n        position: \"top-right\",\n        autoClose: 5000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined\n      });\n      return;\n    }\n    if (!categoryImageUpdate) {\n      toast.error(\"Category image can't be empty!\", {\n        position: \"top-right\",\n        autoClose: 5000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined\n      });\n      return;\n    }\n    form.append(\"_id\", categoryIdUpdate);\n    form.append(\"name\", categoryNameUpdate);\n    form.append(\"description\", categoryDescriptionUpdate);\n    form.append(\"categoryImages\", categoryImageUpdate);\n\n    //updating the category with new form data and then updating the category list(getting the updated category list)\n    dispatch(updateCategory(form));\n  };\n\n  //showing update category modal popup\n  var renderUpdateCategoriesModal = function renderUpdateCategoriesModal() {\n    return /*#__PURE__*/React.createElement(NewModal, {\n      show: updateCategoryModal,\n      handleClose: function handleClose() {\n        setUpdateCategoryModal(false);\n      },\n      addNewItem: updateCategoryForm,\n      modalTitle: \"Edit Category\",\n      size: \"lg\",\n      cat: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      lable: \"Category Name\",\n      type: \"text\",\n      value: categoryNameUpdate,\n      placeholder: \"Category Name\",\n      onChange: function onChange(e) {\n        setCategoryNameUpdate(e.target.value);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Input, {\n      lable: \"Category Description\",\n      as: \"textarea\",\n      rows: 3,\n      value: categoryDescriptionUpdate,\n      placeholder: \"Category Description\",\n      onChange: function onChange(e) {\n        setCategoryDescriptionUpdate(e.target.value);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group mb-3\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"input-group-text\",\n      htmlFor: \"inputGroupFile01\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 11\n      }\n    }, \"Upload Category Image\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      name: \"categoryImageUpdate\",\n      className: \"form-control\",\n      id: \"inputGroupFile01\",\n      onChange: handleCategoryImageUpdate,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 9\n      }\n    }, typeof categoryImageUpdate === \"string\" ? /*#__PURE__*/React.createElement(Row, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      style: {\n        color: \"#333\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 17\n      }\n    }, \"Current Image Name: \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 39\n      }\n    }), \" \", categoryImageUpdate)), /*#__PURE__*/React.createElement(Col, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      style: {\n        color: \"#333\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 17\n      }\n    }, \"Current Image Preview:\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"img\", {\n      style: {\n        maxWidth: \"100px\"\n      },\n      src: generatePublicUrl(categoryImageUpdate),\n      alt: \"Category\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 17\n      }\n    }))) : null));\n  };\n  var handleCloseCategoryDetailsModal = function handleCloseCategoryDetailsModal() {\n    setCategoryDetailsModal(false);\n  };\n  var showCategoryDetailsModal = function showCategoryDetailsModal(category) {\n    setCategoryDetails(category);\n    setCategoryDetailsModal(true);\n    //console.log(category);\n  };\n\n  //showing all the details of the category\n  var renderCategoryDetailsModal = function renderCategoryDetailsModal() {\n    if (!categoryDetails) {\n      return null;\n    }\n    return /*#__PURE__*/React.createElement(NewModal, {\n      modalTitle: \"Category Details\",\n      show: categoryDetailsModal,\n      handleClose: handleCloseCategoryDetailsModal,\n      size: \"lg\",\n      hiddenAddBtn: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: \"6\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"lable\", {\n      className: \"key\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 13\n      }\n    }, \"Id\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"value\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 13\n      }\n    }, categoryDetails._id)), /*#__PURE__*/React.createElement(Col, {\n      md: \"6\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"lable\", {\n      className: \"key\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 13\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"value\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 13\n      }\n    }, categoryDetails.name)), /*#__PURE__*/React.createElement(Col, {\n      md: \"6\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"lable\", {\n      className: \"key\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 13\n      }\n    }, \"Description\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"value\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 13\n      }\n    }, categoryDetails.description)), /*#__PURE__*/React.createElement(Col, {\n      md: \"6\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"lable\", {\n      className: \"key\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 409,\n        columnNumber: 13\n      }\n    }, \"Added By\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"value\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 13\n      }\n    }, categoryDetails.createdBy.firstName, \"\\xA0\", categoryDetails.createdBy.lastName)), /*#__PURE__*/React.createElement(Col, {\n      md: \"6\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"lable\", {\n      className: \"key\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 13\n      }\n    }, \"Image\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 13\n      }\n    }, categoryDetails.categoryImages.map(function (picture) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"categoryImageContainer\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: generatePublicUrl(picture.img),\n        alt: \"\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 19\n        }\n      }));\n    })))));\n  };\n  return /*#__PURE__*/React.createElement(Layout, {\n    sidebar: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ToastContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 432,\n      columnNumber: 7\n    }\n  }), category.loading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 434,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"spinner-border text-primary\",\n    role: \"status\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 435,\n      columnNumber: 11\n    }\n  })) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 439,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 441,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"space-between\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 442,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 445,\n      columnNumber: 19\n    }\n  }, \"Categories\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"dark\",\n    onClick: handleShow,\n    style: {\n      marginTop: \"5px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 446,\n      columnNumber: 19\n    }\n  }, \"Add\")))), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 456,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 457,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    responsive: \"sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 458,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 459,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 460,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 461,\n      columnNumber: 23\n    }\n  }, \"Image\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 462,\n      columnNumber: 23\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 463,\n      columnNumber: 23\n    }\n  }, \"Description\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 464,\n      columnNumber: 23\n    }\n  }, \"Actions\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 467,\n      columnNumber: 19\n    }\n  }, renderCategories(category.categories))), \";\"))), renderAddCategoriesModal(), renderUpdateCategoriesModal(), renderDeleteCategoryModal(), renderCategoryDetailsModal()));\n}\nexport default Category;\n\n/* import React, { useEffect, useState } from 'react';\r\nimport Layout from '../../components/Layout';\r\nimport { Container, Row, Col} from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n    getAllCategory,\r\n    addCategory,\r\n    updateCategories,\r\n    deleteCategories as deleteCategoriesAction\r\n} from '../../actions';\r\nimport Modal from '../../components/UI/Modal';\r\nimport CheckboxTree from 'react-checkbox-tree';\r\nimport {\r\n    IoIosCheckboxOutline,\r\n    IoIosCheckbox,\r\n    IoIosArrowForward,\r\n    IoIosArrowDown,\r\n    IoIosAdd,\r\n    IoIosTrash,\r\n    IoIosCloudUpload\r\n} from 'react-icons/io'\r\n\r\nimport 'react-checkbox-tree/lib/react-checkbox-tree.css';\r\nimport UpdateCategoriesModal from './components/UpdateCategoriesModal'; \r\n import AddCategoryModal from './components/AddCategoryModal'; \r\nimport './style.css';\r\n\r\n\r\n\r\nconst Category = (props) => {\r\n\r\n    const category = useSelector(state => state.category);\r\n    const [categoryName, setCategoryName] = useState('');\r\n    const [parentCategoryId, setParentCategoryId] = useState('');\r\n    const [categoryImage, setCategoryImage] = useState('');\r\n    const [show, setShow] = useState(false);\r\n    const dispatch = useDispatch();\r\n\r\n   const [checked, setChecked] = useState([]);\r\n    const [expanded, setExpanded] = useState([]);\r\n    const [checkedArray, setCheckedArray] = useState([]);\r\n    const [expandedArray, setExpandedArray] = useState([]);\r\n    const [updateCategoryModal, setUpdateCategoryModal] = useState(false);\r\n    const [deleteCategoryModal, setDeleteCategoryModal] = useState(false);\r\n    \r\n    useEffect(() => {\r\n\r\n        if (!category.loading) {\r\n            setShow(false);\r\n        }\r\n\r\n    }, [category.loading]);\r\n\r\n\r\n    const handleClose = () => {\r\n\r\n        const form = new FormData();\r\n\r\n        if (categoryName === \"\") {\r\n            alert('Category name is required');\r\n            setShow(false);\r\n            return;\r\n        }\r\n\r\n        form.append('name', categoryName);\r\n        form.append('parentId', parentCategoryId);\r\n        form.append('categoryImage', categoryImage);\r\n        dispatch(addCategory(form));\r\n        setCategoryName('');\r\n        setParentCategoryId('');\r\n        setShow(false);\r\n    }\r\n    const handleShow = () => setShow(true);\r\n\r\n    const renderCategories = (categories) => {\r\n        let myCategories = [];\r\n        for (let category of categories) {\r\n            myCategories.push(\r\n                {\r\n                    label: category.name,\r\n                    value: category._id,\r\n                    children: category.children.length > 0 && renderCategories(category.children)\r\n                }\r\n            );\r\n        }\r\n        return myCategories;\r\n    }\r\n\r\n    const createCategoryList = (categories, options = []) => {\r\n\r\n        for (let category of categories) {\r\n            options.push({\r\n                value: category._id,\r\n                name: category.name,\r\n                parentId: category.parentId,\r\n                type: category.type\r\n            });\r\n            if (category.children.length > 0) {\r\n                createCategoryList(category.children, options)\r\n            }\r\n        }\r\n\r\n        return options;\r\n    }\r\n\r\n    const handleCategoryImage = (e) => {\r\n        setCategoryImage(e.target.files[0]);\r\n    }\r\n\r\n    const updateCategory = () => {\r\n        updateCheckedAndExpandedCategories();\r\n        setUpdateCategoryModal(true);\r\n    }\r\n\r\n    const updateCheckedAndExpandedCategories = () => {\r\n        const categories = createCategoryList(category.categories);\r\n        const checkedArray = [];\r\n        const expandedArray = [];\r\n        checked.length > 0 && checked.forEach((categoryId, index) => {\r\n            const category = categories.find((category, _index) => categoryId === category.value);\r\n            category && checkedArray.push(category);\r\n        })\r\n        expanded.length > 0 && expanded.forEach((categoryId, index) => {\r\n            const category = categories.find((category, _index) => categoryId === category.value);\r\n            category && expandedArray.push(category);\r\n        })\r\n        setCheckedArray(checkedArray);\r\n        setExpandedArray(expandedArray);\r\n    }\r\n\r\n    const handleCategoryInput = (key, value, index, type) => {\r\n        console.log(value);\r\n        if (type === \"checked\") {\r\n            const updatedCheckedArray = checkedArray.map((item, _index) =>\r\n                index === _index ? { ...item, [key]: value } : item);\r\n            setCheckedArray(updatedCheckedArray);\r\n        } else if (type === \"expanded\") {\r\n            const updatedExpandedArray = expandedArray.map((item, _index) =>\r\n                index === _index ? { ...item, [key]: value } : item);\r\n            setExpandedArray(updatedExpandedArray);\r\n        }\r\n    }\r\n\r\n    const updateCategoriesForm = () => {\r\n        const form = new FormData();\r\n\r\n        expandedArray.forEach((item, index) => {\r\n            form.append('_id', item.value);\r\n            form.append('name', item.name);\r\n            form.append('parentId', item.parentId ? item.parentId : \"\");\r\n            form.append('type', item.type);\r\n        });\r\n        checkedArray.forEach((item, index) => {\r\n            form.append('_id', item.value);\r\n            form.append('name', item.name);\r\n            form.append('parentId', item.parentId ? item.parentId : \"\");\r\n            form.append('type', item.type);\r\n        });\r\n        dispatch(updateCategories(form));\r\n        \r\n    }\r\n\r\n    const deleteCategory = () => {\r\n        updateCheckedAndExpandedCategories();\r\n        setDeleteCategoryModal(true);\r\n    }\r\n\r\n    const deleteCategories = () => {\r\n        const checkedIdsArray = checkedArray.map((item, index) => ({ _id: item.value }));\r\n       // const expandedIdsArray = expandedArray.map((item, index) => ({ _id: item.value }));\r\n        //const idsArray = expandedIdsArray.concat(checkedIdsArray);\r\n\r\n        if (checkedIdsArray.length > 0) {\r\n            dispatch(deleteCategoriesAction(checkedIdsArray))\r\n                .then(result => {\r\n                    if (result) {\r\n                        dispatch(getAllCategory())\r\n                        setDeleteCategoryModal(false)\r\n                    }\r\n                });\r\n        }\r\n\r\n        setDeleteCategoryModal(false);\r\n\r\n\r\n    }\r\n\r\n    const renderDeleteCategoryModal = () => {\r\n        return (\r\n            <Modal\r\n                modalTitle=\"Confirm\"\r\n                show={deleteCategoryModal}\r\n                handleClose={() => setDeleteCategoryModal(false)}\r\n                buttons={[\r\n                    {\r\n                        label: 'No',\r\n                        color: 'primary',\r\n                        onClick: () => {\r\n                            alert('no');\r\n                        }\r\n                    },\r\n                    {\r\n                        label: 'Yes',\r\n                        color: 'danger',\r\n                        onClick: deleteCategories\r\n                    }\r\n                ]}\r\n            >\r\n\r\n\r\n                <h5>Expanded</h5>\r\n                { expandedArray.map((item, index) => <span key={index}>{item.name}</span>)}\r\n                <h5>Checked</h5>\r\n                { checkedArray.map((item, index) => <span key={index}>{item.name}</span>)}\r\n\r\n            </Modal>\r\n        );\r\n    }\r\n\r\n    const categoryList = createCategoryList(category.categories);\r\n\r\n    return (\r\n        <Layout sidebar>\r\n            <Container>\r\n                <Row>\r\n                    <Col md={12}>\r\n                        <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n                            <h3>Category</h3>\r\n                            <div className=\"actionBtnContainer\">\r\n                                <span>Actions: </span>\r\n                                <button onClick={handleShow}><IoIosAdd /> <span>Add</span></button>\r\n                                <button onClick={deleteCategory}><IoIosTrash /> <span>Delete</span></button>\r\n                                <button onClick={updateCategory}><IoIosCloudUpload /> <span>Edit</span></button>\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col md={12}>\r\n                        <CheckboxTree\r\n                            nodes={renderCategories(category.categories)}\r\n                            checked={checked}\r\n                            expanded={expanded}\r\n                            onCheck={checked => setChecked(checked)}\r\n                            onExpand={expanded => setExpanded(expanded)}\r\n                            icons={{\r\n                                check: <IoIosCheckbox />,\r\n                                uncheck: <IoIosCheckboxOutline />,\r\n                                halfCheck: <IoIosCheckboxOutline />,\r\n                                expandClose: <IoIosArrowForward />,\r\n                                expandOpen: <IoIosArrowDown />\r\n                            }}\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n            { <AddCategoryModal\r\n                show={show}\r\n                handleClose={() => setShow(false)}\r\n                onSubmit={handleClose}\r\n                modalTitle={'Add New Category'}\r\n                categoryName={categoryName}\r\n                setCategoryName={setCategoryName}\r\n                parentCategoryId={parentCategoryId}\r\n                setParentCategoryId={setParentCategoryId}\r\n                categoryList={categoryList}\r\n                handleCategoryImage={handleCategoryImage}\r\n            /> }\r\n            { <UpdateCategoriesModal\r\n                show={updateCategoryModal}\r\n                handleClose={() => setUpdateCategoryModal(false)}\r\n                onSubmit={updateCategoriesForm}\r\n                modalTitle={'Update Categories'}\r\n                size=\"lg\"\r\n                expandedArray={expandedArray}\r\n                checkedArray={checkedArray}\r\n                handleCategoryInput={handleCategoryInput}\r\n                categoryList={categoryList}\r\n            /> }\r\n            { /*{renderAddCategoryModal()}*/\n/*   {renderDeleteCategoryModal()}\r\n</Layout>\r\n)\r\n}\r\nexport default Category */","map":{"version":3,"names":["React","useState","Container","Row","Col","Button","Table","ButtonGroup","useDispatch","useSelector","addCategory","updateCategory","deleteCategory","Layout","Input","NewModal","generatePublicUrl","ToastContainer","toast","Category","props","_this","category","state","_useState","_useState2","_slicedToArray","categoryName","setCategoryName","_useState3","_useState4","categoryImage","setCategoryImage","_useState5","_useState6","categoryDescription","setCategoryDescription","_useState7","_useState8","updateCategoryModal","setUpdateCategoryModal","_useState9","_useState10","deleteCategoryModal","setDeleteCategoryModal","_useState11","_useState12","currentCategory","setCurrentCategory","_useState13","_useState14","categoryIdUpdate","setCategoryIdUpdate","_useState15","_useState16","categoryNameUpdate","setCategoryNameUpdate","_useState17","_useState18","categoryImageUpdate","setCategoryImageUpdate","_useState19","_useState20","categoryDescriptionUpdate","setCategoryDescriptionUpdate","_useState21","_useState22","categoryDetailsModal","setCategoryDetailsModal","_useState23","_useState24","categoryDetails","setCategoryDetails","dispatch","_useState25","_useState26","show","setShow","addNewCategory","form","FormData","error","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","append","handleClose","handleShow","renderCategories","categories","myCategories","_iterator","_createForOfIteratorHelper","_step","_loop","value","push","createElement","key","_id","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","style","maxWidth","categoryImages","map","picture","className","src","img","alt","window","location","reload","name","description","width","onClick","updateCategoryData","variant","size","showCategoryDetailsModal","s","n","done","err","e","f","handleCategoryImage","target","files","handleCategoryImageUpdate","cat","console","log","deleteCategoryData","renderDeleteCategoryModal","modalTitle","clsBtnName","saveBtnName","addNewItem","concat","renderAddCategoriesModal","lable","type","placeholder","onChange","as","rows","htmlFor","id","updateCategoryForm","renderUpdateCategoriesModal","color","handleCloseCategoryDetailsModal","renderCategoryDetailsModal","hiddenAddBtn","md","createdBy","firstName","lastName","display","sidebar","loading","role","Fragment","justifyContent","marginTop","responsive"],"sources":["C:/Users/User/Desktop/Final/frontend/src/containers/Category/index.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Table,\r\n  ButtonGroup,\r\n} from \"react-bootstrap\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { addCategory, updateCategory, deleteCategory } from \"../../actions\";\r\nimport Layout from \"../../components/Layouts\";\r\nimport Input from \"../../components/UI/Input\";\r\nimport NewModal from \"../../components/UI/Modal\";\r\nimport { generatePublicUrl } from \"../../urlConfig\";\r\nimport \"./style.css\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nfunction Category(props) {\r\n  const category = useSelector((state) => state.category);\r\n\r\n  const [categoryName, setCategoryName] = useState(\"\");\r\n  const [categoryImage, setCategoryImage] = useState(\"\");\r\n  const [categoryDescription, setCategoryDescription] = useState(\"\");\r\n  const [updateCategoryModal, setUpdateCategoryModal] = useState(false);\r\n  const [deleteCategoryModal, setDeleteCategoryModal] = useState(false);\r\n  const [currentCategory, setCurrentCategory] = useState({});\r\n\r\n  const [categoryIdUpdate, setCategoryIdUpdate] = useState(\"\");\r\n  const [categoryNameUpdate, setCategoryNameUpdate] = useState(\"\");\r\n  const [categoryImageUpdate, setCategoryImageUpdate] = useState(\"\");\r\n  const [categoryDescriptionUpdate, setCategoryDescriptionUpdate] =\r\n    useState(\"\");\r\n\r\n  const [categoryDetailsModal, setCategoryDetailsModal] = useState(false);\r\n  const [categoryDetails, setCategoryDetails] = useState(null);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const [show, setShow] = useState(false);\r\n\r\n  //adding a new category from user entered form data. Those formdata pass into the addCategory() function in actions\r\n  const addNewCategory = () => {\r\n    const form = new FormData();\r\n\r\n    //validations of data\r\n    if (categoryName === \"\") {\r\n      toast.error(\"Name can't be empty!\", {\r\n        position: \"top-right\",\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n      return;\r\n    }\r\n    if (categoryDescription === \"\") {\r\n      toast.error(\"Description can't be empty!\", {\r\n        position: \"top-right\",\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n      return;\r\n    }\r\n    if (!categoryImage) {\r\n      toast.error(\"Category image can't be empty!\", {\r\n        position: \"top-right\",\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n      return;\r\n    }\r\n\r\n    form.append(\"name\", categoryName);\r\n    form.append(\"description\", categoryDescription);\r\n    form.append(\"categoryImages\", categoryImage);\r\n\r\n    dispatch(addCategory(form));\r\n\r\n    setCategoryName(\"\");\r\n    setCategoryDescription(\"\");\r\n    setCategoryImage(\"\");\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setShow(false);\r\n  };\r\n  const handleShow = () => setShow(true);\r\n\r\n  //showing all the categories\r\n  const renderCategories = (categories) => {\r\n    let myCategories = [];\r\n\r\n    for (let category of categories) {\r\n      myCategories.push(\r\n        <tr key={category._id}>\r\n          <td>\r\n            <div style={{ maxWidth: \"100px\" }}>\r\n              {category.categoryImages\r\n                ? category.categoryImages.map((picture) => (\r\n                    <div className=\"categoryImageContainer\">\r\n                      <img src={generatePublicUrl(picture.img)} alt=\"\" />\r\n                    </div>\r\n                  ))\r\n                : window.location.reload()}\r\n            </div>\r\n          </td>\r\n          <td>{category.name}</td>\r\n          <td>{category.description}</td>\r\n          <td>\r\n            <ButtonGroup style={{ width: \"100%\" }}>\r\n              <Button\r\n                onClick={() => {\r\n                  updateCategoryData(category);\r\n                }}\r\n                variant=\"success\"\r\n              >\r\n                Edit\r\n              </Button>\r\n              <Button\r\n                onClick={() => {\r\n                  setDeleteCategoryModal(true);\r\n                  setCurrentCategory(category);\r\n                }}\r\n                variant=\"danger\"\r\n              >\r\n                Delete\r\n              </Button>\r\n            </ButtonGroup>\r\n            <Button\r\n              style={{ width: \"100%\" }}\r\n              size=\"sm\"\r\n              onClick={() => {\r\n                showCategoryDetailsModal(category);\r\n              }}\r\n            >\r\n              Show Full Details\r\n            </Button>\r\n          </td>\r\n        </tr>\r\n      );\r\n    }\r\n\r\n    return myCategories;\r\n  };\r\n\r\n  //handling selected category image\r\n  const handleCategoryImage = (e) => {\r\n    setCategoryImage(e.target.files[0]);\r\n  };\r\n\r\n  //handling selected category image in category updating\r\n  const handleCategoryImageUpdate = (e) => {\r\n    setCategoryImageUpdate(e.target.files[0]);\r\n  };\r\n\r\n  //updating the state after selecting category data to update\r\n  const updateCategoryData = (cat) => {\r\n    setUpdateCategoryModal(true);\r\n\r\n    console.log(cat._id);\r\n\r\n    //updating state value according to selected category\r\n    setCategoryIdUpdate(cat._id);\r\n    setCategoryNameUpdate(cat.name);\r\n    setCategoryDescriptionUpdate(cat.description);\r\n\r\n    cat.categoryImages.map((picture) => setCategoryImageUpdate(picture.img));\r\n  };\r\n\r\n  //fuction to delete category. dispatching the deleteCategory() from actions\r\n  const deleteCategoryData = (cat) => {\r\n    //dispatching the action to delete selected category\r\n    dispatch(deleteCategory(cat._id));\r\n  };\r\n\r\n  //popup modal to delete category\r\n  const renderDeleteCategoryModal = () => {\r\n    return (\r\n      <NewModal\r\n        modalTitle=\"Please Confirm!\"\r\n        variant=\"danger\"\r\n        clsBtnName=\"No\"\r\n        saveBtnName=\"Yes\"\r\n        addNewItem={() => deleteCategoryData(currentCategory)}\r\n        show={deleteCategoryModal}\r\n        handleClose={() => {\r\n          setDeleteCategoryModal(false);\r\n        }}\r\n      >{`Do you want to delete \"${currentCategory.name}\" category?`}</NewModal>\r\n    );\r\n  };\r\n\r\n  //show add category popup modal\r\n  const renderAddCategoriesModal = () => {\r\n    return (\r\n      <NewModal\r\n        show={show}\r\n        handleClose={handleClose}\r\n        addNewItem={addNewCategory}\r\n        modalTitle=\"Add New Category\"\r\n        cat={true}\r\n      >\r\n        <Input\r\n          lable=\"Category Name\"\r\n          type={\"text\"}\r\n          value={categoryName}\r\n          placeholder={\"Category Name\"}\r\n          onChange={(e) => {\r\n            setCategoryName(e.target.value);\r\n          }}\r\n        />\r\n        <Input\r\n          lable=\"Category Description\"\r\n          as=\"textarea\"\r\n          rows={3}\r\n          value={categoryDescription}\r\n          placeholder={\"Category Description\"}\r\n          onChange={(e) => {\r\n            setCategoryDescription(e.target.value);\r\n          }}\r\n        />\r\n        <div className=\"input-group mb-3\">\r\n          <label className=\"input-group-text\" htmlFor=\"inputGroupFile01\">\r\n            Upload Category Image\r\n          </label>\r\n          <input\r\n            type=\"file\"\r\n            name=\"categoryImage\"\r\n            className=\"form-control\"\r\n            id=\"inputGroupFile01\"\r\n            onChange={handleCategoryImage}\r\n          />\r\n        </div>\r\n      </NewModal>\r\n    );\r\n  };\r\n\r\n  //handling the data added to form when updating the category and passing them to updateCategory() in actions\r\n  const updateCategoryForm = () => {\r\n    const form = new FormData();\r\n\r\n    //validations of data\r\n    if (categoryNameUpdate === \"\") {\r\n      toast.error(\"Name can't be empty!\", {\r\n        position: \"top-right\",\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (categoryDescriptionUpdate === \"\") {\r\n      toast.error(\"Description can't be empty!\", {\r\n        position: \"top-right\",\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (!categoryImageUpdate) {\r\n      toast.error(\"Category image can't be empty!\", {\r\n        position: \"top-right\",\r\n        autoClose: 5000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n      return;\r\n    }\r\n\r\n    form.append(\"_id\", categoryIdUpdate);\r\n    form.append(\"name\", categoryNameUpdate);\r\n    form.append(\"description\", categoryDescriptionUpdate);\r\n    form.append(\"categoryImages\", categoryImageUpdate);\r\n\r\n    //updating the category with new form data and then updating the category list(getting the updated category list)\r\n    dispatch(updateCategory(form));\r\n  };\r\n\r\n  //showing update category modal popup\r\n  const renderUpdateCategoriesModal = () => {\r\n    return (\r\n      <NewModal\r\n        show={updateCategoryModal}\r\n        handleClose={() => {\r\n          setUpdateCategoryModal(false);\r\n        }}\r\n        addNewItem={updateCategoryForm}\r\n        modalTitle=\"Edit Category\"\r\n        size=\"lg\"\r\n        cat={true}\r\n      >\r\n        <Input\r\n          lable=\"Category Name\"\r\n          type={\"text\"}\r\n          value={categoryNameUpdate}\r\n          placeholder={\"Category Name\"}\r\n          onChange={(e) => {\r\n            setCategoryNameUpdate(e.target.value);\r\n          }}\r\n        />\r\n        <Input\r\n          lable=\"Category Description\"\r\n          as=\"textarea\"\r\n          rows={3}\r\n          value={categoryDescriptionUpdate}\r\n          placeholder={\"Category Description\"}\r\n          onChange={(e) => {\r\n            setCategoryDescriptionUpdate(e.target.value);\r\n          }}\r\n        />\r\n        <div className=\"input-group mb-3\">\r\n          <label className=\"input-group-text\" htmlFor=\"inputGroupFile01\">\r\n            Upload Category Image\r\n          </label>\r\n          <input\r\n            type=\"file\"\r\n            name=\"categoryImageUpdate\"\r\n            className=\"form-control\"\r\n            id=\"inputGroupFile01\"\r\n            onChange={handleCategoryImageUpdate}\r\n          />\r\n        </div>\r\n        <div>\r\n          {typeof categoryImageUpdate === \"string\" ? (\r\n            <Row>\r\n              <Col>\r\n                <label style={{ color: \"#333\" }}>\r\n                  Current Image Name: <br></br> {categoryImageUpdate}\r\n                </label>\r\n              </Col>\r\n              <Col>\r\n                <label style={{ color: \"#333\" }}>Current Image Preview:</label>\r\n                <br></br>\r\n                <img\r\n                  style={{ maxWidth: \"100px\" }}\r\n                  src={generatePublicUrl(categoryImageUpdate)}\r\n                  alt=\"Category\"\r\n                />\r\n              </Col>\r\n            </Row>\r\n          ) : null}\r\n        </div>\r\n      </NewModal>\r\n    );\r\n  };\r\n\r\n  const handleCloseCategoryDetailsModal = () => {\r\n    setCategoryDetailsModal(false);\r\n  };\r\n\r\n  const showCategoryDetailsModal = (category) => {\r\n    setCategoryDetails(category);\r\n    setCategoryDetailsModal(true);\r\n    //console.log(category);\r\n  };\r\n\r\n  //showing all the details of the category\r\n  const renderCategoryDetailsModal = () => {\r\n    if (!categoryDetails) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <NewModal\r\n        modalTitle={\"Category Details\"}\r\n        show={categoryDetailsModal}\r\n        handleClose={handleCloseCategoryDetailsModal}\r\n        size=\"lg\"\r\n        hiddenAddBtn={true}\r\n      >\r\n        <Row>\r\n          <Col md=\"6\">\r\n            <lable className=\"key\">Id</lable>\r\n            <p className=\"value\">{categoryDetails._id}</p>\r\n          </Col>\r\n          <Col md=\"6\">\r\n            <lable className=\"key\">Name</lable>\r\n            <p className=\"value\">{categoryDetails.name}</p>\r\n          </Col>\r\n          <Col md=\"6\">\r\n            <lable className=\"key\">Description</lable>\r\n            <p className=\"value\">{categoryDetails.description}</p>\r\n          </Col>\r\n          <Col md=\"6\">\r\n            <lable className=\"key\">Added By</lable>\r\n            <p className=\"value\">\r\n              {categoryDetails.createdBy.firstName}&nbsp;\r\n              {categoryDetails.createdBy.lastName}\r\n            </p>\r\n          </Col>\r\n          <Col md=\"6\">\r\n            <lable className=\"key\">Image</lable>\r\n            <div style={{ display: \"flex\" }}>\r\n              {categoryDetails.categoryImages.map((picture) => (\r\n                <div className=\"categoryImageContainer\">\r\n                  <img src={generatePublicUrl(picture.img)} alt=\"\" />\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n      </NewModal>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Layout sidebar>\r\n      <ToastContainer />\r\n      {category.loading ? (\r\n        <div className=\"d-flex justify-content-center\">\r\n          <div className=\"spinner-border text-primary\" role=\"status\"></div>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <Container>\r\n            <Row>\r\n              <Col md={12}>\r\n                <div\r\n                  style={{ display: \"flex\", justifyContent: \"space-between\" }}\r\n                >\r\n                  <h3>Categories</h3>\r\n                  <Button\r\n                    variant=\"dark\"\r\n                    onClick={handleShow}\r\n                    style={{ marginTop: \"5px\" }}\r\n                  >\r\n                    Add\r\n                  </Button>\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col md={12}>\r\n                <Table responsive=\"sm\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th>Image</th>\r\n                      <th>Name</th>\r\n                      <th>Description</th>\r\n                      <th>Actions</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>{renderCategories(category.categories)}</tbody>\r\n                </Table>\r\n                ;\r\n              </Col>\r\n            </Row>\r\n          </Container>\r\n          {renderAddCategoriesModal()}\r\n          {renderUpdateCategoriesModal()}\r\n          {renderDeleteCategoryModal()}\r\n          {renderCategoryDetailsModal()}\r\n        </>\r\n      )}\r\n    </Layout>\r\n  );\r\n}\r\n\r\nexport default Category;\r\n\r\n\r\n\r\n\r\n\r\n/* import React, { useEffect, useState } from 'react';\r\nimport Layout from '../../components/Layout';\r\nimport { Container, Row, Col} from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n    getAllCategory,\r\n    addCategory,\r\n    updateCategories,\r\n    deleteCategories as deleteCategoriesAction\r\n} from '../../actions';\r\nimport Modal from '../../components/UI/Modal';\r\nimport CheckboxTree from 'react-checkbox-tree';\r\nimport {\r\n    IoIosCheckboxOutline,\r\n    IoIosCheckbox,\r\n    IoIosArrowForward,\r\n    IoIosArrowDown,\r\n    IoIosAdd,\r\n    IoIosTrash,\r\n    IoIosCloudUpload\r\n} from 'react-icons/io'\r\n\r\nimport 'react-checkbox-tree/lib/react-checkbox-tree.css';\r\nimport UpdateCategoriesModal from './components/UpdateCategoriesModal'; \r\n import AddCategoryModal from './components/AddCategoryModal'; \r\nimport './style.css';\r\n\r\n\r\n\r\nconst Category = (props) => {\r\n\r\n    const category = useSelector(state => state.category);\r\n    const [categoryName, setCategoryName] = useState('');\r\n    const [parentCategoryId, setParentCategoryId] = useState('');\r\n    const [categoryImage, setCategoryImage] = useState('');\r\n    const [show, setShow] = useState(false);\r\n    const dispatch = useDispatch();\r\n\r\n   const [checked, setChecked] = useState([]);\r\n    const [expanded, setExpanded] = useState([]);\r\n    const [checkedArray, setCheckedArray] = useState([]);\r\n    const [expandedArray, setExpandedArray] = useState([]);\r\n    const [updateCategoryModal, setUpdateCategoryModal] = useState(false);\r\n    const [deleteCategoryModal, setDeleteCategoryModal] = useState(false);\r\n    \r\n    useEffect(() => {\r\n\r\n        if (!category.loading) {\r\n            setShow(false);\r\n        }\r\n\r\n    }, [category.loading]);\r\n\r\n\r\n    const handleClose = () => {\r\n\r\n        const form = new FormData();\r\n\r\n        if (categoryName === \"\") {\r\n            alert('Category name is required');\r\n            setShow(false);\r\n            return;\r\n        }\r\n\r\n        form.append('name', categoryName);\r\n        form.append('parentId', parentCategoryId);\r\n        form.append('categoryImage', categoryImage);\r\n        dispatch(addCategory(form));\r\n        setCategoryName('');\r\n        setParentCategoryId('');\r\n        setShow(false);\r\n    }\r\n    const handleShow = () => setShow(true);\r\n\r\n    const renderCategories = (categories) => {\r\n        let myCategories = [];\r\n        for (let category of categories) {\r\n            myCategories.push(\r\n                {\r\n                    label: category.name,\r\n                    value: category._id,\r\n                    children: category.children.length > 0 && renderCategories(category.children)\r\n                }\r\n            );\r\n        }\r\n        return myCategories;\r\n    }\r\n\r\n    const createCategoryList = (categories, options = []) => {\r\n\r\n        for (let category of categories) {\r\n            options.push({\r\n                value: category._id,\r\n                name: category.name,\r\n                parentId: category.parentId,\r\n                type: category.type\r\n            });\r\n            if (category.children.length > 0) {\r\n                createCategoryList(category.children, options)\r\n            }\r\n        }\r\n\r\n        return options;\r\n    }\r\n\r\n    const handleCategoryImage = (e) => {\r\n        setCategoryImage(e.target.files[0]);\r\n    }\r\n\r\n    const updateCategory = () => {\r\n        updateCheckedAndExpandedCategories();\r\n        setUpdateCategoryModal(true);\r\n    }\r\n\r\n    const updateCheckedAndExpandedCategories = () => {\r\n        const categories = createCategoryList(category.categories);\r\n        const checkedArray = [];\r\n        const expandedArray = [];\r\n        checked.length > 0 && checked.forEach((categoryId, index) => {\r\n            const category = categories.find((category, _index) => categoryId === category.value);\r\n            category && checkedArray.push(category);\r\n        })\r\n        expanded.length > 0 && expanded.forEach((categoryId, index) => {\r\n            const category = categories.find((category, _index) => categoryId === category.value);\r\n            category && expandedArray.push(category);\r\n        })\r\n        setCheckedArray(checkedArray);\r\n        setExpandedArray(expandedArray);\r\n    }\r\n\r\n    const handleCategoryInput = (key, value, index, type) => {\r\n        console.log(value);\r\n        if (type === \"checked\") {\r\n            const updatedCheckedArray = checkedArray.map((item, _index) =>\r\n                index === _index ? { ...item, [key]: value } : item);\r\n            setCheckedArray(updatedCheckedArray);\r\n        } else if (type === \"expanded\") {\r\n            const updatedExpandedArray = expandedArray.map((item, _index) =>\r\n                index === _index ? { ...item, [key]: value } : item);\r\n            setExpandedArray(updatedExpandedArray);\r\n        }\r\n    }\r\n\r\n    const updateCategoriesForm = () => {\r\n        const form = new FormData();\r\n\r\n        expandedArray.forEach((item, index) => {\r\n            form.append('_id', item.value);\r\n            form.append('name', item.name);\r\n            form.append('parentId', item.parentId ? item.parentId : \"\");\r\n            form.append('type', item.type);\r\n        });\r\n        checkedArray.forEach((item, index) => {\r\n            form.append('_id', item.value);\r\n            form.append('name', item.name);\r\n            form.append('parentId', item.parentId ? item.parentId : \"\");\r\n            form.append('type', item.type);\r\n        });\r\n        dispatch(updateCategories(form));\r\n        \r\n    }\r\n\r\n    const deleteCategory = () => {\r\n        updateCheckedAndExpandedCategories();\r\n        setDeleteCategoryModal(true);\r\n    }\r\n\r\n    const deleteCategories = () => {\r\n        const checkedIdsArray = checkedArray.map((item, index) => ({ _id: item.value }));\r\n       // const expandedIdsArray = expandedArray.map((item, index) => ({ _id: item.value }));\r\n        //const idsArray = expandedIdsArray.concat(checkedIdsArray);\r\n\r\n        if (checkedIdsArray.length > 0) {\r\n            dispatch(deleteCategoriesAction(checkedIdsArray))\r\n                .then(result => {\r\n                    if (result) {\r\n                        dispatch(getAllCategory())\r\n                        setDeleteCategoryModal(false)\r\n                    }\r\n                });\r\n        }\r\n\r\n        setDeleteCategoryModal(false);\r\n\r\n\r\n    }\r\n\r\n    const renderDeleteCategoryModal = () => {\r\n        return (\r\n            <Modal\r\n                modalTitle=\"Confirm\"\r\n                show={deleteCategoryModal}\r\n                handleClose={() => setDeleteCategoryModal(false)}\r\n                buttons={[\r\n                    {\r\n                        label: 'No',\r\n                        color: 'primary',\r\n                        onClick: () => {\r\n                            alert('no');\r\n                        }\r\n                    },\r\n                    {\r\n                        label: 'Yes',\r\n                        color: 'danger',\r\n                        onClick: deleteCategories\r\n                    }\r\n                ]}\r\n            >\r\n\r\n\r\n                <h5>Expanded</h5>\r\n                { expandedArray.map((item, index) => <span key={index}>{item.name}</span>)}\r\n                <h5>Checked</h5>\r\n                { checkedArray.map((item, index) => <span key={index}>{item.name}</span>)}\r\n\r\n            </Modal>\r\n        );\r\n    }\r\n\r\n    const categoryList = createCategoryList(category.categories);\r\n\r\n    return (\r\n        <Layout sidebar>\r\n            <Container>\r\n                <Row>\r\n                    <Col md={12}>\r\n                        <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n                            <h3>Category</h3>\r\n                            <div className=\"actionBtnContainer\">\r\n                                <span>Actions: </span>\r\n                                <button onClick={handleShow}><IoIosAdd /> <span>Add</span></button>\r\n                                <button onClick={deleteCategory}><IoIosTrash /> <span>Delete</span></button>\r\n                                <button onClick={updateCategory}><IoIosCloudUpload /> <span>Edit</span></button>\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col md={12}>\r\n                        <CheckboxTree\r\n                            nodes={renderCategories(category.categories)}\r\n                            checked={checked}\r\n                            expanded={expanded}\r\n                            onCheck={checked => setChecked(checked)}\r\n                            onExpand={expanded => setExpanded(expanded)}\r\n                            icons={{\r\n                                check: <IoIosCheckbox />,\r\n                                uncheck: <IoIosCheckboxOutline />,\r\n                                halfCheck: <IoIosCheckboxOutline />,\r\n                                expandClose: <IoIosArrowForward />,\r\n                                expandOpen: <IoIosArrowDown />\r\n                            }}\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n            { <AddCategoryModal\r\n                show={show}\r\n                handleClose={() => setShow(false)}\r\n                onSubmit={handleClose}\r\n                modalTitle={'Add New Category'}\r\n                categoryName={categoryName}\r\n                setCategoryName={setCategoryName}\r\n                parentCategoryId={parentCategoryId}\r\n                setParentCategoryId={setParentCategoryId}\r\n                categoryList={categoryList}\r\n                handleCategoryImage={handleCategoryImage}\r\n            /> }\r\n            { <UpdateCategoriesModal\r\n                show={updateCategoryModal}\r\n                handleClose={() => setUpdateCategoryModal(false)}\r\n                onSubmit={updateCategoriesForm}\r\n                modalTitle={'Update Categories'}\r\n                size=\"lg\"\r\n                expandedArray={expandedArray}\r\n                checkedArray={checkedArray}\r\n                handleCategoryInput={handleCategoryInput}\r\n                categoryList={categoryList}\r\n            /> }\r\n            { /*{renderAddCategoryModal()}*/ \r\n          /*   {renderDeleteCategoryModal()}\r\n        </Layout>\r\n    )\r\n\r\n}\r\n\r\nexport default Category */ "],"mappings":"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AAC,eACb9G,KAAA,CAAAsG,aAAA;IAAAG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,aAAe,CAAC,eACpB9G,KAAA,CAAAsG,aAAA;IAAAG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,SAAW,CACb,CACC,CAAC,eACR9G,KAAA,CAAAsG,aAAA;IAAAG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAQjB,gBAAgB,CAACvE,QAAQ,CAACwE,UAAU,CAAS,CAChD,CAAC,KAEL,CACF,CACI,CAAC,EACXyD,wBAAwB,CAAC,CAAC,EAC1BU,2BAA2B,CAAC,CAAC,EAC7BhB,yBAAyB,CAAC,CAAC,EAC3BmB,0BAA0B,CAAC,CAC5B,CAEE,CAAC;AAEb;AAEA,eAAejJ,QAAQ;;AAMvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACU;AACV;AACA;AACA;AACA"},"metadata":{},"sourceType":"module"}